---
title: FDA Table 5
subtitle: Duration of Treatment Exposure, Safety Population, Pooled Analyses
format: html
---

::: panel-tabset
## Spec. Screenshot

![](../assets/images/screenshots/table_05.png){fig-align="center"}

## Table

```{r tbl, message=FALSE, warning=FALSE}
# Load Libraries & Data
library(scda)
library(falcon)
library(dplyr)

adsl <- scda::synthetic_cdisc_dataset("rcd_2022_10_13", "adsl")

# Output Table
make_table_05(df = adsl)
```

## Table Setup

```{r tbl, eval=FALSE, echo=TRUE}
```

## Function Details

### `make_table_05()`


------------------------------------------------------------------------

------------------------------------------------------------------------

Required variables:

-   **`df`**: `SAFFL` and the variables specified by `vars` and `arm_var`.
-   **`alt_counts_df`** (if specified): `SAFFL`, `USUBJID`, and the variable specified by `arm_var`.

| Argument        | Description                                                                                                                                                                                                                                            | Default                                     |
|:------------------|:---------------------------------|:------------------|
| `df`            | (`data.frame`) Dataset (typically ADSL) required to build table.                                                                                                                                                                                       | *No default*                                |
| `alt_counts_df` | (`character`) Alternative dataset used only to calculate column counts.                                                                                                                                                                                | `NULL`                                      |
| `arm_var`       | (`character`) Arm variable used to split table into columns.                                                                                                                                                                                           | `"ARM"`                                     |
| `id_var`        | (`character`) Identifier variable used to count the participants within each flag.                                                                                                                                                                     | `"USUBJID"`                                 |
| `trtsdtm_var`   | (`character`) Treatment start datetime variable in df.                                                                                                                                                                                                 | `"TRTSDTM"`                                 |
| `trtedtm_var`   | (`character`) Treatment end datetime variable in df.                                                                                                                                                                                                   | `"TRTEDTM"`                                 |
| `u_trtdur`      | (`character`) Unit for duration of treatment. Options are `"days"`, `"weeks"`, `"months"` and `"years"`.                                                                                                                                               | `"days"`                                    |
| `lbl_trtdur`    | (`character`) Label for treatment duration variable `u_trtdur`.                                                                                                                                                                                        | `paste("Duration of Treatment,", u_trtdur)` |
| `lbl_overall`   | (`character`) If specified, an overall column will be added to the table with the given value as the column label.                                                                                                                                       | `NULL`                                      |
| `prune_0`       | (`flag`) Whether all-zero rows should be removed from the table.                                                                                                                                                                                       | `TRUE`                                      |
| `annotations`   | (named `list` of `character`) List of annotations to add to the table. Valid annotation types are `title`, `subtitles`, `main_footer`, and `prov_footer.` Each name-value pair should use the annotation type as name and the desired string as value. | `NULL`                                      |

Source code for this function is available [here](https://github.com/pharmaverse/falcon/blob/main/R/fda-table_05.R).


:::
