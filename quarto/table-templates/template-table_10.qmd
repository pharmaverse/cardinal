---
title: FDA Table 10
subtitle: Patients With Serious Adverse Events by System Organ Class and FDA Medical Query (Narrow), Safety Population, Pooled Analyses
format: html
---

::: panel-tabset
## Table Preview

![](../assets/images/screenshots/table_10.png){fig-align="center"}

## gtsummary Table Setup
<details>
  <summary>gtsummary Table Setup</summary>
```{r}
#| label: tbl_gtsummary
#| eval: FALSE
#| echo: TRUE

# Load Libraries & Data
library(dplyr)
library(gtsummary)

adsl <- random.cdisc.data::cadsl
adae <- random.cdisc.data::cadae

# Pre-Processing - FMQ information
set.seed(1)
adae <- adae %>%
  mutate(
    FMQ01SC = sample(c("NARROW", "BROAD"), size = nrow(adae), replace = TRUE),
    FMQ01NAM = sample(c("FMQ1", "FMQ2", "FMQ3"), size = nrow(adae), replace = TRUE)
  )

# Use safety population, Serious Adverse Event only and Narrow FMQ
adae <- adae %>%
  dplyr::filter(SAFFL == "Y", AESER == "Y", FMQ01SC == "NARROW" )

# Build Table
tbl <- adae %>% 
  tbl_hierarchical(variables = c(AEBODSYS, FMQ01NAM),
                   by = ARM,
                   id = USUBJID,
                   include = FMQ01NAM,
                   denominator = adsl,
                   overall_row = FALSE,
) %>% 
  gtsummary::remove_footnote_header(columns = everything())

tbl

```

</details>

```{r}
#| label: tbl_gtsummary
#| message: FALSE
#| warning: FALSE
#| eval: TRUE
```

## Build ARD
<details>
  <summary>ARD Setup</summary>
```{r}
#| label: ard
#| echo: TRUE
#| message: FALSE
#| warning: FALSE
#| result: 'hide'
ard <- gather_ard(tbl)
```

</details>

```{r}
#| label: ard_print
#| echo: FALSE
withr::local_options(width = 9999)
print(ard, columns = "all")
```
:::


