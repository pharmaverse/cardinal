---
title: FDA Table 9
subtitle: Patients With Serious Adverse Events by System Organ Class and Preferred Term, Safety Population, Pooled Analyses
format: html
---

::: panel-tabset
## Spec. Screenshot

![](../assets/images/screenshots/table_09.png){fig-align="center" width="78%"}

## gtsummary Table

<details>
  <summary>gtsummary Table Setup</summary>
```{r}
#| label: tbl_gtsummary
#| eval: FALSE
#| echo: TRUE

# Load Libraries & Data
library(gtsummary)

adsl <- random.cdisc.data::cadsl
adae <- random.cdisc.data::cadae


# filter data
adae <- adae %>%
  dplyr::filter(SAFFL == "Y", AESER == "Y")

# create table
tbl <- adae |>
  tbl_hierarchical(
    variables = c(AESOC, AEDECOD),
    by = ARM,
    id = USUBJID,
    denominator = adsl,
    overall_row = TRUE,
    label = "..ard_hierarchical_overall.." ~ "Any SAE"
  )
tbl
```
</details>

```{r}
#| label: tbl_gtsummary
#| message: FALSE
#| warning: FALSE
#| eval: TRUE
```

## ARD

<details>
  <summary>ARD Setup</summary>
```{r}
#| label: ard
#| echo: TRUE
#| message: FALSE
#| warning: FALSE
#| result: 'hide'
ard <- gather_ard(tbl)
```
</details>

```{r}
#| label: ard_print
#| echo: FALSE
withr::local_options(width = 9999)
print(ard, columns = "all")
```
:::
