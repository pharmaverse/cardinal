% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fda-table_04.R
\name{create_ard_table_4}
\alias{create_ard_table_4}
\title{Create an ARD Table Summarizing Disposition and Population Flags by Treatment Arm}
\usage{
create_ard_table_4(
  df,
  id_var = "USUBJID",
  arm_var = "ARM",
  reason_var = "DCSREAS",
  pop_vars = c("SAFFL", "ITTFL"),
  lbl_pop_vars = c("Safety population", "ITT/mITT population")
)
}
\arguments{
\item{df}{A data frame containing subject-level disposition and population flag variables.}

\item{id_var}{Character string indicating the subject ID variable. Default is \code{"USUBJID"}.}

\item{arm_var}{Character string indicating the treatment arm variable. Default is \code{"ARM"}.}

\item{reason_var}{Character string indicating the variable containing discontinuation reasons. Default is \code{"DCSREAS"}.}

\item{pop_vars}{Character vector of population flag variables (e.g., \code{"SAFFL"}, \code{"ITTFL"}).}

\item{lbl_pop_vars}{Character vector of labels corresponding to \code{pop_vars}, used for output labeling.}
}
\value{
A data frame containing a structured summary of population flags and treatment/study
discontinuation reasons, including:
\itemize{
\item \code{analysis_var}: variable name,
\item \code{analysis_var_label}: descriptive label,
\item \code{parent_var}: optional parent grouping variable,
\item \code{variable_level}: either \code{"primary"} or \code{"secondary"} depending on hierarchy,
\item \code{treatment_group}: treatment arm label,
\item \code{statistic_type}: \code{"count_pct"} format,
\item \code{n_total}, \code{n_event}, \code{pct}: statistics,
\item \code{formatted_result}: formatted string (e.g., \code{"12 (30.0\%)"}).
}
}
\description{
This function generates a flat analysis results display (ARD) table summarizing
discontinuation-related reasons and population flags by treatment arm. It calculates
counts and percentages for each category and organizes results into a structured format
with hierarchy levels for reporting.
}
\details{
The function processes the input data to create binary indicator variables for various
study drug and study discontinuation reasons (e.g., adverse event, death, protocol deviation),
along with population flags. It then summarizes these by treatment arm, providing both counts
and percentages, and adds a simple hierarchical structure to facilitate grouped reporting.
}
\examples{
# Assuming appropriate structure in `adsl`:
# ard_table <- create_ard_table_4(adsl)

}
